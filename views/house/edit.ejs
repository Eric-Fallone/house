<% include ../partials/header %>

<div class = "container">
  <h1 style="text-align: center">EDIT House Listing</h1>
  <form action="/OurHomes/<%=listingInfo.address_street%>/edit?_method=PUT" method="POST">

    <div class="form-group">
        <label for="address">Street:  (cannot change)</label>
        <%=listingInfo.address_street%>
        <input class="form-control" style="visibility: hidden;" id="address_street" type="text" value="<%=listingInfo.address_street%>" name ="address_street">
    </div>
    <div class="form-group">
        <label for="address">Township:</label>
        <input class="form-control" id="address_town" type="text" value="<%=listingInfo.address_town%>" name ="address_town">
    </div>
    <div class="form-group">
        <label for="address">Price:</label>
        <input class="form-control" id="price" type="text" value="<%=listingInfo.price%>" name ="price">
    </div>
    <label>Is this house on the market?</label>
    <div class="form-check">
      <input class="form-check-input" type="radio" name="onMarket" id="onMarket1" value="Currently for Sale" <% if(listingInfo.onMarket === "Currently for Sale") {%>checked<%}%> >
      <label class="form-check-label" for="onMarket1">
        Currently for Sale
      </label>
    </div>
    <div class="form-check">
      <input class="form-check-input" type="radio" name="onMarket" id="onMarket2" value="About to go to market" <% if(listingInfo.onMarket === "About to go to market") {%>checked<%}%> >
      <label class="form-check-label" for="onMarket2">
        About to go to market
      </label>
    </div>
    <div class="form-check">
      <input class="form-check-input" type="radio" name="onMarket" id="onMarket3" value="under contract" <% if(listingInfo.onMarket === "under contract") {%>checked<%}%>>
      <label class="form-check-label" for="onMarket3">
        Under Contract
      </label>
    </div>
    <div class="form-check">
      <input class="form-check-input" type="radio" name="onMarket" id="onMarket4" value="Sold" <% if(listingInfo.onMarket === "Sold") {%>checked<%}%>>
      <label class="form-check-label" for="onMarket4">
        Sold
      </label>
    </div>

    <label>Is this house on the market?</label>

    <div class="form-check">
      <input class="form-check-input" type="radio" name="isShowing" id="isShowing1" value="true"  <% if(listingInfo.isShowing == true) {%>checked<%}%>>
      <label class="form-check-label" for="isShowing1">
        SHOW
      </label>
    </div>
    <div class="form-check">
      <input class="form-check-input" type="radio" name="isShowing" id="isShowing2" value="false"  <% if(listingInfo.isShowing == false) {%>checked<%}%>>
      <label class="form-check-label" for="isShowing2">
        DO NOT SHOW
      </label>
    </div>


    <label>Show on main page?</label>

    <div class="form-check">
      <input class="form-check-input" type="radio" name="isShowingMainPage" id="isShowing1MainPage" value="true"  <% if(listingInfo.isShowingMainPage == true) {%>checked<%}%>>
      <label class="form-check-label" for="isShowing1MainPage">
        SHOW
      </label>
    </div>
    <div class="form-check">
      <input class="form-check-input" type="radio" name="isShowingMainPage" id="isShowing2MainPage" value="false"  <% if(listingInfo.isShowingMainPage == false) {%>checked<%}%>>
      <label class="form-check-label" for="isShowing2Mainpage">
        DO NOT SHOW
      </label>
    </div>

    <div class="form-group">
        <label for="blerb">Our Homes Blerb</label>
        <textarea class="form-control" id="blerb" rows="3" name ="blerb" ><%=listingInfo.blerb%></textarea>
    </div>

    <div class="form-group">
        <label for="text">Description</label>
        <textarea class="form-control" id="description" rows="5" name ="description" ><%=listingInfo.description%></textarea>
    </div>

    <div class="form-group">
        <label for="thumb_pic">Thumbnail Picture</label>
        <input type="file" name="thumb_pic" />
    </div>

    <div class="form-group">
        <label for="loc">Current Index: <%=listingInfo.index%><br />Max Index: <%=maxLoc%> </label>
        <input type="number" style= "max-width:60px;" class="form-control" id="loc" name ="loc" value="<%=listingInfo.index%>" min="1" max="<%=maxLoc%>"></input>
    </div>


    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
</div>

<% include ../partials/footer %>
